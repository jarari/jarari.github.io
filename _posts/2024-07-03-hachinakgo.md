---
title: 협업 - 폴아웃 4 모드팩 Hachinakgo Survivor
tags: [Collaborations]
style: border
color: info
description: 폴아웃 4를 Escape From Tarkov 스타일의 현실적인 슈터와 아니메 풍의 캐릭터를 혼합한 새로운 장르의 게임으로 탈바꿈시키는 프로젝트
---
![HNS](assets/hns.png)
하치낙고 서바이버는 폴아웃 4 버전 1.10.163 을 기반으로 Escape From Tarkov 스타일의 현실적인 슈터와 아니메 풍의 캐릭터를 혼합한 새로운 장르의 게임을 구현하는 것이 목표인 모드팩입니다. 레벨 스케일링, 퍽 기반 데미지와 같이 기존 게임의 단점으로 꼽히던 부분을 들어내고, 현대 총기와 탄종별 데미지, 사지 부상 디버프, 방탄복과 헬멧, 그리고 즉사 시스템 등 현대 FPS 게임 구성에 맞게 시스템을 수정하고 컨텐츠를 추가하여 폴아웃 4를 새로운 분위기에서 즐길 수 있게 하였습니다.<br>
<br>
저는 해당 모드팩에서 전투 시스템 구현을 담당하여 기획자가 추구하는 방향의 전투를 C++ dll로 엔진 레벨에서 구현하였습니다. 또한, swf와 액션 스크립트를 이용하여 추가적인 정보를 표시해주는 UI와 게임에서 사용될 현대 총기인 CAA Micro Roni Glock Conversion Kit의 모델을 크리에이션 엔진으로 포팅하고 자체 애니메이션까지 제작하였습니다.<br>
<br>
### 1. Damage System
![DamageSystem](assets/damagesystem.png)
Damage System은 기존 폴아웃 4 총기 시스템을 근간부터 뒤엎는 전투 시스템입니다. 각각의 총이 별개의 데미지를 가지던 베이스 게임과는 다르게, 총기들의 데미지는 각 총이 사용하는 탄종을 기준으로 통일됩니다. 또한, 탄이 적의 팔, 다리를 맞추게 되면 사지 내구도를 기반으로 확률적으로 중첩되는 출혈 디버프에 빠지게 되며, 몸통과 머리를 맞추게 되면 현재 탄의 데미지와 적 방어구의 등급에 따라 확률적으로 즉사가 일어나게 됩니다. 이를 통해 폴아웃 4의 고질적인 문제인 불렛 스펀지를 완전히 제거했으며, 플레이어 또한 AI 적들과 동일하게 죽을 위험에 처하게 되어 좀 더 전략적인 플레이를 하게 됩니다.<br>
<br>
![DamageSystemFormula](assets/damagesystem_formula.png)
방어구 등급에 따른 즉사 확률에는 위와 같은 공식이 사용됩니다. x 축의 값은 총알의 데미지, y축은 즉사를 회피할 확률을 의미합니다. 공식의 변수들은 ini 설정 파일을 읽어오게 하여 밸런싱에 용이하게 제작하였습니다.<br>
방어구 등급이 높아짐에 따라 합리적인 선에서 몸샷이나 헤드샷 즉사를 피하기 때문에 플레이 하는 입장에서도 방어구를 보강할 필요성을 느끼게 되고, 방어구가 상대적으로 약한 적들을 조우했을 때 쉽게 처치할 수 있게 됩니다.<br>
### 2. Immersive Damage
![ImmersiveDamage](assets/immersivedamage.png)
Immersive Damage는 Damage System과 연계하여 탄종별 데미지라는 개념을 게임 내에 조금 더 확고하게 자리잡게 해줍니다. 아무리 RPG 게임이라고 해도, 은신 공격 치명타나 단순히 퍽을 획득했다고 총기의 데미지가 5%, 10% 상승하는 것은 몰입감을 해칠 수 있는 요소입니다. 엔진 내의 여러 함수들을 후킹하고, 인게임 설정을 통해 퍽, 행운 치명타, 은신 공격 치명타 등의 데미지를 무효화시킬 수 있게 만들어 조금 더 일관성있는 전투 시스템을 구현하였습니다. 그리고 로그 기능을 제공하여 데미지 이벤트의 여러 정보를 출력하고 디버깅에 용이하게 제작하였습니다.<br>
### 3. Condition Boy
![ConditionBoy](assets/conditionboy.png)
Condition Boy는 크리에이션 엔진의 스케일폼 기능을 활용하여 액션 스크립트 기반의 swf를 UI 형태로 출력해서 현재 플레이어의 사지, 몸통, 머리 내구도를 표시해주는 위젯입니다. Damage System이 사지와 몸통 내구도를 기반으로 여러 디버프를 부여하는 만큼, 내구도 수치가 중요해졌으나 인게임에서 이를 확인할 방법이 없다는 점을 보완하기 위해 개발하였습니다. 인게임 옵션 또는 swf 파일 이미지 교체를 통해 출력되는 이미지와 내구도별 색상, 출력 위치, 크기 등을 커스터마이징 할 수 있습니다.
### 4. CAA Micro Roni Glock Conversion Kit
![CAARoni](assets/caaroni.webp)
게임 초반 플레이를 돕기 위하여 저위력, 고연사 CAA Roni를 제작하여 월드에 배치하였습니다. 모델은 Rainbow Six: Siege와 Escape From Tarkov에서 추출한 모델을 크리에이션 엔진에 맞게 재가공하여 사용하였고, 애니메이션은 3ds Max를 통해 직접 제작하였습니다.