---
title: >
    Unity Cinemachine 3 탐구
tags: [Unity]
style: border
color: primary
description: >
    Unity 6에 맞춰 업그레이드된 Cinemeachine 3를 샘플 씬 위주로 탐구
---

![클리어 샷](assets/cinemachine.png)

항상 상용 유니티 게임 에셋들을 살펴보다 보면 튀어나오는 CM vcam 오브젝트들, 어떤건지 최근에야 알았습니다. 바로 유니티에서 제공해주는 강력한 시네마틱 도구 Cinemachine의 Virtual Camera 오브젝트들이었는데요, 이 시네머신이 유니티 6를 맞아 Cinemachine 3으로 업데이트 되었다하여 한 번 살펴봤습니다.<br>

![카메라 명칭](assets/cinemachine2.png)

Cinemachine 3의 가장 큰 특징은 비직관적이었던 카메라 명칭들의 간소화와, 카메라 - 컴포넌트 - 익스텐션의 확실한 모듈화라고 하는데요. 확실히 버츄얼 카메라라는 이름은 실제 렌더링에 사용되는 카메라가 아니라는 의미가 어느정도 있긴 했지만 그렇다고 다른 카메라가 버츄얼이 아닌건 또 아니고... 조금 애매하긴 했죠. 단순하게 시네마틱 카메라로 변경되었습니다.<br>
또한, 패키지를 설치하면 샘플 탭에서 따로 샘플 씬들도 임포트할 수 있는데 저는 이 씬들을 위주로 Cinemachine 3를 한 번 살펴보고자 합니다.

### 클리어 샷

![클리어 샷](assets/cinemachine3.png)

클리어 샷 카메라는 차일드로 지정된 카메라 중 현재 샷 퀄리티가 가장 좋은 카메라를 자동적으로 선택하는 카메라입니다. 만약 샷 퀄리티가 준수한 카메라가 여러 대 발견된다면, 그 때는 우선 순위가 가장 높은 카메라가 선택됩니다.<br>
샘플 씬은 정면 카메라를 가장 높은 우선순위로 하여, 좌우로 움직이며 장애물에 가려지는 캐릭터가 항상 화면에 잡히도록하는 클리어 샷 카메라 구성을 보여줍니다.

![정면 카메라](assets/cinemachine4.png)

장애물에 정면샷이 가려지지 않는 경우 이렇게 정면 카메라가 작동되게 되고, 위의 사진처럼 장애물 뒤에 숨어있는 경우 오버헤드 카메라 혹은 비하인드 카메라 중 오버헤드 카메라를 위주로 "클리어 샷"을 포착하는 카메라가 작동되게 됩니다.<br>

### 컷씬

![클리어 샷](assets/cinemachine5.png)

Cutscene 씬은 Orbital Follow로 설정되어 유저의 인풋을 받아 캐릭터 주위를 회전하게 되는 Freelook 카메라와 타임라인을 통해 제어되는 3개의 일반 카메라로 구성되어 있습니다.<br>
보물 상자에는 Cinemachine Trigger Action 스크립트가 달려있어 캐릭터가 상자 주변에 다가가면 Open Chest Timeline 타임라인이 실행되고, 3단계에 걸쳐 상자에 줌인-진동-줌아웃의 컷씬이 재생되게 됩니다.<br>
타임라인에 시네머신 샷 트랙이 직접 삽입되어 있어서 카메라간의 블렌딩이 자연스럽게 이루어지는 것이 인상적입니다.